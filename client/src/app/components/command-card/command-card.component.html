<div
  class="min-w-40 md:min-w-72 max-w-lg bg-white rounded-xl shadow-sm md:shadow-lg overflow-hidden border cursor-pointer"
  (click)="onCardClick()"
>
  <div class="relative">
    <img
      src="../../../assets/meal2.png"
      [alt]="command.name"
      class="w-full h-20 md:h-48 object-cover"
    />
    <span
      class="absolute top-2 right-2 text-xs md:text-sm font-semibold px-3 py-1 rounded-full"
      [ngClass]="{
        'bg-green-200 text-white': command.collect_status === 'Déjà récupéré',
        'bg-orange-200 text-white': command.collect_status === 'Bientôt disponible',
        'bg-green-400 text-white': command.collect_status === 'Disponible pour collecte',
        'bg-red-500 text-white': command.collect_status === 'Repas expiré'
      }"
    >
      {{ command.collect_status }}
    </span>

    <div class="absolute bottom-3 left-3 flex items-center space-x-2 p-2 rounded-md">
      <img
        src="https://a.storyblok.com/f/191576/1200x800/a3640fdc4c/profile_picture_maker_before.webp"
        [alt]="command.user"
        class="w-10 h-10 rounded-full border-2 border-white"
      />
      <p class="text-white text-sm font-semibold text-shadow">{{ command.user }}</p>
    </div>
  </div>

  <div class="p-2 md:p-4">
    <h3 class="text-sm md:text-lg md:font-semibold text-gray-800">
      {{ command.name }}
    </h3>
    <div
      class="flex items-center justify-between mt-1 md:mt-2"
      *ngIf="command.collect_status === 'Disponible pour collecte' || command.collect_status === 'Bientôt disponible'"
    >
      <p class="text-xs md:text-sm text-gray-600 md:mt-2 font-extralight md:font-light">
        À récupérer aujourd'hui entre
        {{ command.date_start | date : "HH:mm" }} et
        {{ command.date_end | date : "HH:mm" }}
      </p>

      <svg
        width="24px"
        height="24px"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M5 12H19M19 12L13 6M19 12L13 18"
          stroke="#000000"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </div>
  </div>
</div>